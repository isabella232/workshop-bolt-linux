#name: boltshop::build_webserver
description: Deploys an Apache webserver with some base configuration.

parameters:
  targets:
    type: TargetSpec
    description: The targets to configure
  port:
    type: Integer
    description: Port number to access Apache webserver

steps:
  - task: boltshop::basicapache
    description: "Installs a basic Apache Webserver without configuration."
    targets: "$targets"
    parameters:
      action: install
  - command: "if [ ! -d /var/www/html]; then mkdir -p /var/www/html; fi"
    description: "Creating new directory for the Apache webserver."
    targets: $targets
  - upload: boltshop/mywebsite #correct directory for content?
    description: "Uploading the website to the appropriate folder."
    destination: "/var/www/html" #need to find appropriate directory
    targets: $targets